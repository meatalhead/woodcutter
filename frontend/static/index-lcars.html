<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sheet Cutting Optimizer - LCARS Interface</title>
    <link rel="stylesheet" href="/static/css/lcars-theme.css">
</head>
<body>
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0;">
        <!-- Mobile Navigation Header -->
        <header class="mobile-header">
            <h1 class="lcars-heading" style="margin: 0; padding: 20px; font-size: 18px;">Sheet Cutting Optimizer</h1>
            <button class="hamburger-menu" id="hamburger-btn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </header>

        <!-- Mobile Navigation Menu -->
        <nav class="mobile-menu" id="mobile-menu">
            <button class="menu-item" onclick="toggleSection('stock-section')">üìã Stock Sheets</button>
            <button class="menu-item" onclick="toggleSection('cuts-section')">‚úÇÔ∏è Required Cuts</button>
            <button class="menu-item" onclick="toggleSection('controls-section')">‚öôÔ∏è Optimization</button>
            <button class="menu-item" onclick="toggleSection('results-section')">üìä Results</button>
        </nav>

        <!-- Main Content Area -->
        <main id="app" class="main-content">
            <!-- Stock Sheets Section -->
            <section class="lcars-panel" id="stock-section">
                <h2 class="lcars-heading" style="font-size: 18px;">Stock Sheets</h2>
                <div id="stock-list">
                    <p style="color: #888; font-style: italic;">No stock sheets added yet. Add your first sheet below.</p>
                </div>
                <button class="lcars-button" onclick="showStockForm()">+ Add Stock Sheet</button>
            </section>

            <!-- Required Cuts Section -->
            <section class="lcars-panel" id="cuts-section" style="margin-top: 20px;">
                <h2 class="lcars-heading" style="font-size: 18px;">Required Cuts</h2>
                <div id="cuts-list">
                    <p style="color: #888; font-style: italic;">No cuts added yet. Add your first cut below.</p>
                </div>
                <button class="lcars-button" onclick="showCutForm()">+ Add Required Cut</button>
            </section>

            <!-- Optimization Controls -->
            <section class="lcars-panel" id="controls-section" style="margin-top: 20px;">
                <h2 class="lcars-heading" style="font-size: 18px;">Optimization</h2>
                <div style="margin: 16px 0;">
                    <label class="lcars-label" for="kerf-width">Blade Kerf Width (mm)</label>
                    <input type="number" id="kerf-width" class="lcars-input" value="3.0" min="0" max="10" step="0.1" style="max-width: 200px;">
                </div>
                <button class="lcars-button" onclick="runOptimization()" id="optimize-btn">Optimize Cutting Plan</button>
            </section>

            <!-- Results Section (hidden until optimization runs) -->
            <section class="lcars-panel" id="results-section" style="margin-top: 20px; display: none;">
                <h2 class="lcars-heading" style="font-size: 18px;">Cutting Plan Results</h2>
                <div id="results-content">
                    <!-- Results will be dynamically inserted here -->
                </div>
                
                <!-- Print Button -->
                <div style="margin-top: 20px;">
                    <button class="lcars-button no-print" id="print-button" onclick="handlePrintClick()" style="background-color: var(--lcars-magenta);">
                        üñ®Ô∏è Print Cutting Instructions
                    </button>
                </div>
                
                <!-- Visual Diagrams Section -->
                <div id="diagrams-section" style="margin-top: 30px;">
                    <h3 class="lcars-heading" style="font-size: 16px; color: #9999FF;">Visual Cutting Diagrams</h3>
                    <div id="diagrams-container">
                        <!-- SVG diagrams will be rendered here -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Modal Forms (hidden by default) -->
        <div id="modal-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto; padding: 20px 0;">
            <div id="modal-content" class="lcars-panel" style="max-width: 500px; margin: 50px auto 100px; position: relative;">
                <div id="form-container">
                    <!-- Forms will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/diagram.js"></script>
    <script src="js/print.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
